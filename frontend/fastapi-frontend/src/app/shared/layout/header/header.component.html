<mat-toolbar color="primary" class="app-header">
  <!-- Menu Toggle Button (for mobile) -->
  <button mat-icon-button 
          class="menu-toggle" 
          (click)="onToggleSidebar()" 
          matTooltip="Menu"
          *ngIf="isAuthenticated">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- Logo/Brand -->
  <div class="brand" (click)="navigateToHome()">
    <mat-icon class="brand-icon">code</mat-icon>
    <span class="brand-text">FastAPI Frontend</span>
  </div>

  <!-- Spacer -->
  <span class="spacer"></span>

  <!-- Navigation Menu (Desktop) -->
  <div class="nav-menu" *ngIf="isAuthenticated">
    <button mat-button (click)="navigateToHome()" class="nav-button">
      <mat-icon>dashboard</mat-icon>
      <span class="nav-text">Dashboard</span>
    </button>
    
    <button mat-button (click)="navigateToUsers()" class="nav-button">
      <mat-icon>people</mat-icon>
      <span class="nav-text">Usu√°rios</span>
    </button>
  </div>

  <!-- User Menu (when authenticated) -->
  <div class="user-menu" *ngIf="isAuthenticated && currentUser">
    <button mat-button [matMenuTriggerFor]="userMenu" class="user-button">
      <div class="user-avatar">
        <span class="user-initials">{{ getUserInitials() }}</span>
      </div>
      <span class="user-name">{{ currentUser.username }}</span>
      <mat-icon>arrow_drop_down</mat-icon>
    </button>
    
    <mat-menu #userMenu="matMenu" class="user-dropdown">
      <button mat-menu-item (click)="navigateToProfile()">
        <mat-icon>account_circle</mat-icon>
        <span>Meu Perfil</span>
      </button>
      <mat-divider></mat-divider>
      <button mat-menu-item (click)="logout()" class="logout-item">
        <mat-icon>logout</mat-icon>
        <span>Sair</span>
      </button>
    </mat-menu>
  </div>

  <!-- Auth Buttons (when not authenticated) -->
  <div class="auth-buttons" *ngIf="!isAuthenticated">
    <button mat-button (click)="navigateToLogin()" class="auth-button">
      <mat-icon>login</mat-icon>
      <span>Entrar</span>
    </button>
    
    <button mat-raised-button 
            color="accent" 
            (click)="navigateToRegister()" 
            class="auth-button register-button">
      <mat-icon>person_add</mat-icon>
      <span>Cadastrar</span>
    </button>
  </div>
</mat-toolbar>